<Window x:Class="Image_sort.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Image_sort.UI"
        mc:Ignorable="d"
        Title="Image sort" Height="350" Width="680" AllowDrop="True"
        MinWidth="250" MinHeight="250"
        KeyDown="Window_KeyDown" Drop="Window_Drop">
    <!--xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"-->
    <Grid>
        <!-- START GRID DEFINITIONS -->
        
        <!-- Row Definitions for Layout -->
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Column Definitions for Layout -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"  />
            <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>
        
        <!-- END GRID DEFINITIONS -->
        
        <!-- Tool bar containing all the important things -->
        <ToolBarTray Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2">
            <!-- ToolBar containing everything for folder management -->
            <ToolBar Focusable="False">
                <Button Content="Select Folder" Focusable="False"
                        x:Name="SelectFolderButton" Click="SelectFolderButton_Click"
                        ToolTip="Selects the folder to sort. Shortcut: F2"/>
                <Button Content="New Folder" IsEnabled="False" Focusable="False"
                        x:Name="NewFolderButton" Click="NewFolderButton_Click"
                        ToolTip="Creates a new folder inside the current one. Shortcut: F3"/>
                <Button Content="Enter Folder" IsEnabled="False" Focusable="False"
                        x:Name="EnterFolderButton" Click="EnterFolderButton_Click"
                        ToolTip="Enter folder selected. Shortcut: Enter"/>
            </ToolBar>
            <!-- Contains everything for image management -->
            <ToolBar Focusable="False">
                <Button Content="Skip File" IsEnabled="False" Focusable="False"
                    x:Name="SkipFileButton" Click="SkipFileButton_Click"
                    ToolTip="Skips the current image. Shortcut: left arrow key"/>
                <Button Content="Move" IsEnabled="False" Focusable="False"
                    x:Name="MoveFolderButton" Click="MoveFolderButton_Click"
                    ToolTip="Moves the image to the selected folder. Shortcut: right arrow key"/>
                <Button Content="Go back" IsEnabled="False" Focusable="False"
                    x:Name="GoBackButton" Click="GoBackButton_Click"
                    ToolTip="Goes back one image you skipped, if possible. Shortcut: ctrl + left arrow key"/>
            </ToolBar>
            <!-- Contains everything around settings -->
            <ToolBar Focusable="False">
                <!-- Lets users change the resolution, that the Images should get loaded with -->
                <!--<Button Content="Set Horizontal Resolution" Focusable="False"
                    x:Name="SetHorizontalResolutionButton" Click="SetHorizontalResolutionButton_Click">
                    --><!-- ToolTip for better understanding --><!--
                    <Button.ToolTip>
                        <TextBlock>
                            <Run>
                                Gives you the option to change the horizontal resolution,
                                the images should get loaded with.
                            </Run>
                            <LineBreak/>
                            <Run>
                                Shortcut: F4
                            </Run>
                        </TextBlock>
                    </Button.ToolTip>
                </Button>-->
                <TextBlock Margin="2" Text="Horizontal Resolution: "/>
                <!-- Text Box for setting the resolution -->
                <TextBox x:Name="ResolutionBox" PreviewTextInput="ResolutionBox_PreviewTextInput"
                         MinWidth="50" MaxWidth="150" TextAlignment="Center" KeyUp="ResolutionBox_KeyUp"
                         Focusable="False" MouseDown="ResolutionBox_MouseDown" LostFocus="ResolutionBox_LostFocus">
                    <TextBox.ToolTip>
                        <TextBlock>
                            <Run>
                                Gives you the option to change the horizontal resolution,
                                the images should get loaded with.
                            </Run>
                            <LineBreak/>
                            <Run>
                                Shortcut: F4
                            </Run>
                        </TextBlock>
                    </TextBox.ToolTip>
                </TextBox>
            </ToolBar>
            <ToolBar Focusable="False">
                <ToggleButton x:Name="EnableSearchButton" Content="Search" Focusable="False"
                              Click="EnableSearchButton_Click" IsChecked="False">
                    <ToggleButton.ToolTip>
                        <TextBlock>
                            <Run>Shows and hides the search box.</Run>
                            <LineBreak/>
                            <Run>Shortcut: ctrl+s</Run>
                        </TextBlock>
                    </ToggleButton.ToolTip>
                </ToggleButton>
            </ToolBar>
        </ToolBarTray>

        <!-- StackPanel containing all the buttons with the folders to choose -->
        <local:ListBoxScroll x:Name="FoldersStack" Grid.Column="0" Grid.Row="2" Focusable="False"
                             ScrollViewer.HorizontalScrollBarVisibility="Disabled" Margin="0,0,5,0">
            <!--<i:Interaction.Behaviors>
                <Behaviors:ScrollIntoViewForListBox />
            </i:Interaction.Behaviors>-->

        </local:ListBoxScroll>

        <!-- Search bar for the user to search for folders -->
        <TextBox x:Name="SearchBarBox" Grid.Row="1" Grid.Column="0" Focusable="False"
                 Margin="0,0,5,0" IsReadOnlyCaretVisible="True" 
                 TextChanged="SearchBarBox_TextChanged" Visibility="Collapsed"
                 PreviewKeyDown="Window_KeyDown"/>
        <!--IsReadOnly="True"-->

        <!-- For better UX -->
        <GridSplitter Grid.Column="0" Grid.Row="1" Grid.RowSpan="2" Width="5" Focusable="False"/>

        <!-- Image loading the image to sort as a preview -->
        <Image x:Name="PreviewImage" Grid.Row="1" Grid.RowSpan="2"
               Grid.Column="1" Margin="0,0,5,0" Focusable="False"></Image>
    </Grid>
</Window>
